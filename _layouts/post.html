---
layout: default
---

<article class="post">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="{{ page.date | date_to_xmlschema }}">
        {% assign day = page.date | date: "%-d" %}
        {% assign month = page.date | date: "%-m" %}
        {% assign year = page.date | date: "%Y" %}
        {% assign months = "enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre" | split: "," %}
        {% assign month_index = month | minus: 1 %}
        {{ day }} de {{ months[month_index] }} de {{ year }}
      </time>
      <span>‚Ä¢</span>
      <span>{{ page.content | number_of_words | divided_by: 200 }} min de lectura</span>
      <span>‚Ä¢</span>
      <span>
        <img src="https://visitor-badge.laobi.icu/badge?page_id=renedev{{ page.url | replace: '/', '.' | remove: '.html' }}" 
             alt="visitas" 
             style="height: 20px; vertical-align: middle;">
      </span>
    </div>
    
    <h1>{{ page.title }}</h1>
    
    {% if page.tags %}
      <div class="post-tags">
        {% for tag in page.tags %}
          <span class="tag">{{ tag }}</span>
        {% endfor %}
      </div>
    {% endif %}
  </header>

  <div class="post-content">
    {{ content }}
  </div>

  <!-- Botones para compartir -->
  {% include share-buttons.html %}

  <!-- Navegaci√≥n anterior/siguiente -->
  <footer class="post-footer">
    <nav class="post-nav">
      {% if page.previous.url %}
        <a href="{{ page.previous.url | relative_url }}" class="post-nav-item prev">
          <span class="post-nav-label">‚Üê Anterior</span>
          <span class="post-nav-title">{{ page.previous.title }}</span>
        </a>
      {% endif %}
      
      {% if page.next.url %}
        <a href="{{ page.next.url | relative_url }}" class="post-nav-item next">
          <span class="post-nav-label">Siguiente ‚Üí</span>
          <span class="post-nav-title">{{ page.next.title }}</span>
        </a>
      {% endif %}
    </nav>
  </footer>
</article>

<!-- Reacciones -->
{% include reactions-button.html %}

<!-- Comentarios -->
{% include comments-utterances.html %}

<!-- Script para insertar ENLACE RELACIONADO (p√°rrafo 2) y NEWSLETTER (p√°rrafo 4-5) inline -->
<script>
(function() {
  'use strict';
  
  console.log('üöÄ Iniciando inserci√≥n de componentes inline...');
  
  // ==========================================
  // CONFIGURACI√ìN
  // ==========================================
  var RELATED_POST_AFTER_PARAGRAPH = 2;  // Enlace relacionado despu√©s del p√°rrafo 2
  var NEWSLETTER_AFTER_PARAGRAPH = 5;     // Newsletter despu√©s del p√°rrafo 5
  var MIN_PARAGRAPHS_FOR_NEWSLETTER = 7;  // M√≠nimo de p√°rrafos para mostrar newsletter
  
  // ==========================================
  // 1. ENLACE RELACIONADO CON TEXTURA
  // ==========================================
  
  var currentTags = {{ page.tags | jsonify }};
  var allPosts = [
    {% for post in site.posts limit:20 %}
      {% unless post.url == page.url %}
      {
        title: {{ post.title | jsonify }},
        url: {{ post.url | jsonify }},
        excerpt: {{ post.excerpt | strip_html | truncate: 80 | jsonify }},
        tags: {{ post.tags | jsonify }}
      }{% unless forloop.last %},{% endunless %}
      {% endunless %}
    {% endfor %}
  ];
  
  // Encontrar post relacionado
  var relatedPost = null;
  if (currentTags && currentTags.length > 0) {
    for (var i = 0; i < allPosts.length; i++) {
      var post = allPosts[i];
      if (!post.tags) continue;
      for (var j = 0; j < post.tags.length; j++) {
        if (currentTags.indexOf(post.tags[j]) !== -1) {
          relatedPost = post;
          break;
        }
      }
      if (relatedPost) break;
    }
  }
  
  // Crear HTML del enlace relacionado con textura literaria
  var relatedPostHTML = null;
  if (relatedPost) {
    var relatedContainer = document.createElement('div');
    relatedContainer.style.cssText = 'margin: 2.5rem 0; animation: fadeInUp 0.5s ease-out;';
    
    var relatedBox = document.createElement('div');
    relatedBox.style.cssText = 'display: flex; gap: 1rem; padding: 1.5rem; background: #fefdfb; border: 1px solid #d4cfc5; border-left: 4px solid #f34f29; border-radius: 8px; box-shadow: 0 2px 8px rgba(60, 48, 38, 0.08); transition: all 0.3s ease; position: relative; overflow: hidden;';
    
    // Textura de papel vintage
    var texture = document.createElement('div');
    texture.style.cssText = 'position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.4; background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(60, 48, 38, 0.02) 2px, rgba(60, 48, 38, 0.02) 4px), repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(60, 48, 38, 0.02) 2px, rgba(60, 48, 38, 0.02) 4px); pointer-events: none; z-index: 0;';
    relatedBox.appendChild(texture);
    
    // Contenido
    var icon = document.createElement('div');
    icon.style.cssText = 'font-size: 2rem; line-height: 1; flex-shrink: 0; margin-top: 0.25rem; position: relative; z-index: 1;';
    icon.textContent = 'üí°';
    
    var content = document.createElement('div');
    content.style.cssText = 'flex: 1; position: relative; z-index: 1;';
    
    content.innerHTML = 
      '<p style="font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', sans-serif; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; color: #6e6658; margin: 0 0 0.5rem; font-weight: 600;">ART√çCULO RELACIONADO</p>' +
      '<a href="' + relatedPost.url + '" style="font-family: Georgia, serif; font-size: 1.1rem; font-weight: 600; color: #3c3026; text-decoration: none; display: block; margin-bottom: 0.5rem; transition: color 0.2s;">' + relatedPost.title + ' ‚Üí</a>' +
      '<p style="font-family: Georgia, serif; font-size: 0.9rem; color: #6e6658; margin: 0; line-height: 1.5;">' + relatedPost.excerpt + '</p>';
    
    relatedBox.appendChild(icon);
    relatedBox.appendChild(content);
    
    // Hover effects
    relatedBox.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-2px)';
      this.style.boxShadow = '0 4px 16px rgba(243, 79, 41, 0.12)';
      this.querySelector('a').style.color = '#f34f29';
    });
    
    relatedBox.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0)';
      this.style.boxShadow = '0 2px 8px rgba(60, 48, 38, 0.08)';
      this.querySelector('a').style.color = '#3c3026';
    });
    
    relatedContainer.appendChild(relatedBox);
    relatedPostHTML = relatedContainer;
    console.log('‚úÖ Enlace relacionado creado:', relatedPost.title);
  }
  
  // ==========================================
  // 2. NEWSLETTER CON TEXTURA
  // ==========================================
  
  var newsletterHTML = document.createElement('div');
  newsletterHTML.style.cssText = 'margin: 3rem 0; animation: fadeInUp 0.6s ease-out;';
  
  var newsletterBox = document.createElement('div');
  newsletterBox.style.cssText = 'display: flex; gap: 1.5rem; padding: 2rem; background: #fefdfb; border: 2px solid #d4cfc5; border-radius: 12px; box-shadow: 0 4px 12px rgba(60, 48, 38, 0.08); position: relative; overflow: hidden;';
  
  // Textura para newsletter
  var newsletterTexture = document.createElement('div');
  newsletterTexture.style.cssText = 'position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.4; background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(60, 48, 38, 0.02) 2px, rgba(60, 48, 38, 0.02) 4px), repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(60, 48, 38, 0.02) 2px, rgba(60, 48, 38, 0.02) 4px); pointer-events: none; z-index: 0;';
  newsletterBox.appendChild(newsletterTexture);
  
  var newsletterIcon = document.createElement('div');
  newsletterIcon.style.cssText = 'font-size: 3rem; line-height: 1; flex-shrink: 0; position: relative; z-index: 1;';
  newsletterIcon.textContent = 'üì¨';
  
  var newsletterContent = document.createElement('div');
  newsletterContent.style.cssText = 'flex: 1; position: relative; z-index: 1;';
  
  newsletterContent.innerHTML = 
    '<h4 style="font-family: Georgia, serif; font-size: 1.4rem; color: #3c3026; margin: 0 0 0.5rem; font-weight: 700;">¬øTe est√° gustando este post?</h4>' +
    '<p style="font-family: Georgia, serif; font-size: 0.95rem; color: #6e6658; margin: 0 0 1rem; line-height: 1.6;">Recibe nuevos art√≠culos directo en tu inbox. Sin spam.</p>' +
    '<form action="https://buttondown.email/api/emails/embed-subscribe/renedev" method="post" target="popupwindow" onsubmit="window.open(\'https://buttondown.email/renedev\', \'popupwindow\')" style="display: flex; gap: 0.5rem; margin-bottom: 0.75rem; position: relative; z-index: 1;">' +
      '<input type="email" name="email" placeholder="tu@email.com" required style="flex: 1; padding: 0.85rem 1.25rem; font-size: 0.95rem; color: #3c3026; background: white; border: 2px solid #d4cfc5; border-radius: 8px; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', sans-serif;" />' +
      '<button type="submit" style="padding: 0.85rem 2rem; font-size: 0.95rem; font-weight: 600; color: white; background: #f34f29; border: none; border-radius: 8px; cursor: pointer; white-space: nowrap; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', sans-serif; transition: all 0.3s;">Suscribirme</button>' +
    '</form>' +
    '<p style="font-size: 0.8rem; color: #6e6658; margin: 0; font-style: italic; font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', sans-serif;">Cancela cuando quieras</p>';
  
  newsletterBox.appendChild(newsletterIcon);
  newsletterBox.appendChild(newsletterContent);
  newsletterHTML.appendChild(newsletterBox);
  
  // Hover effect para el bot√≥n
  var btnSubmit = newsletterBox.querySelector('button');
  btnSubmit.addEventListener('mouseenter', function() {
    this.style.background = '#e04420';
    this.style.transform = 'translateY(-2px)';
    this.style.boxShadow = '0 4px 12px rgba(243, 79, 41, 0.3)';
  });
  btnSubmit.addEventListener('mouseleave', function() {
    this.style.background = '#f34f29';
    this.style.transform = 'translateY(0)';
    this.style.boxShadow = 'none';
  });
  
  console.log('‚úÖ Newsletter creado');
  
  // ==========================================
  // 3. INSERTAR AMBOS INLINE
  // ==========================================
  
  function insertComponents() {
    var postContent = document.querySelector('.post-content');
    if (!postContent) {
      console.log('‚ùå No se encontr√≥ .post-content');
      return;
    }
    
    console.log('‚úÖ .post-content encontrado');
    
    // Buscar todos los p√°rrafos v√°lidos
    var allP = postContent.querySelectorAll('p');
    var paragraphs = [];
    
    for (var i = 0; i < allP.length; i++) {
      var p = allP[i];
      if (p.textContent.trim().length > 50 && !p.querySelector('img')) {
        paragraphs.push(p);
      }
    }
    
    console.log('üìù P√°rrafos encontrados:', paragraphs.length);
    
    // Insertar enlace relacionado despu√©s del p√°rrafo 2
    if (relatedPostHTML && paragraphs.length >= 4) {
      var relatedTarget = paragraphs[RELATED_POST_AFTER_PARAGRAPH - 1];
      relatedTarget.parentNode.insertBefore(relatedPostHTML, relatedTarget.nextSibling);
      console.log('‚úÖ Enlace relacionado insertado despu√©s del p√°rrafo', RELATED_POST_AFTER_PARAGRAPH);
    }
    
    // Insertar newsletter despu√©s del p√°rrafo 5 (solo si hay suficientes p√°rrafos)
    if (paragraphs.length >= MIN_PARAGRAPHS_FOR_NEWSLETTER) {
      var newsletterTarget = paragraphs[NEWSLETTER_AFTER_PARAGRAPH - 1];
      newsletterTarget.parentNode.insertBefore(newsletterHTML, newsletterTarget.nextSibling);
      console.log('‚úÖ Newsletter insertado despu√©s del p√°rrafo', NEWSLETTER_AFTER_PARAGRAPH);
    } else {
      console.log('‚ö†Ô∏è Post muy corto para newsletter inline (menos de', MIN_PARAGRAPHS_FOR_NEWSLETTER, 'p√°rrafos)');
    }
  }
  
  // Ejecutar cuando el DOM est√© listo
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', insertComponents);
  } else {
    insertComponents();
  }
})();
</script>

<style>
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Responsive para m√≥vil */
@media (max-width: 768px) {
  /* Enlace relacionado */
  .inline-related-post > div {
    flex-direction: column !important;
    padding: 1.25rem !important;
    gap: 0.75rem !important;
  }
  
  /* Newsletter */
  div[style*="display: flex"][style*="gap: 1.5rem"] {
    flex-direction: column !important;
    padding: 1.5rem !important;
    text-align: center !important;
  }
  
  form[action*="buttondown"] {
    flex-direction: column !important;
  }
  
  form[action*="buttondown"] button {
    width: 100% !important;
  }
}
</style>