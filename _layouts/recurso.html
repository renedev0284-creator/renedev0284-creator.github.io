<!DOCTYPE html>
<html lang="{{ site.lang | default: 'es' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="{{ '/assets/images/favicon.svg' | relative_url }}">

  {% seo %}
  {% include open-graph.html %}
  {% include seo-schema.html %}

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YCL9HD30XT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YCL9HD30XT');
  </script>

  {% feed_meta %}
</head>
<body class="recurso-page">

{% include site-header.html %}

<!-- BREADCRUMB -->
<nav class="recurso-breadcrumb no-print" aria-label="Breadcrumb">
  <div class="container">
    <ol class="breadcrumb-list">
      <li><a href="{{ '/' | relative_url }}">Inicio</a></li>
      <li aria-hidden="true">â€º</li>
      <li><a href="{{ '/recursos/' | relative_url }}">Recursos</a></li>
      <li aria-hidden="true">â€º</li>
      <li aria-current="page">{{ page.title }}</li>
    </ol>
  </div>
</nav>

<!-- â”€â”€ EMAIL GATE OVERLAY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="gate-overlay" id="gate-overlay">
  <div class="gate-card">

    <div class="gate-icon">
      {% if page.category == 'personajes' %}
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      {% elsif page.category == 'estructura' %}
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg>
      {% elsif page.category == 'relato' %}
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
      {% elsif page.category == 'planificacion' %}
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="8" y1="13" x2="16" y2="13"/><line x1="8" y1="17" x2="16" y2="17"/><line x1="8" y1="9" x2="10" y2="9"/></svg>
      {% else %}
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
      {% endif %}
    </div>

    <span class="gate-badge">Gratis</span>
    <h1 class="gate-title">{{ page.title }}</h1>
    <p class="gate-desc">{{ page.description }}</p>

    {% if page.benefits %}
    <ul class="gate-benefits">
      {% for benefit in page.benefits %}
      <li>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        {{ benefit }}
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    <form class="gate-form" id="gate-form">
      <div class="gate-fields">
        <input type="text" id="gate-nombre" name="nombre" placeholder="Tu nombre (opcional)" maxlength="100" autocomplete="given-name">
        <input type="email" id="gate-email" name="email" placeholder="tu@email.com *" required maxlength="150" autocomplete="email">
        <button type="submit" class="gate-btn" id="gate-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Acceder gratis
        </button>
      </div>
      <p class="gate-msg" id="gate-msg"></p>
      <p class="gate-privacy">ğŸ”’ Sin spam. Puedes darte de baja cuando quieras.</p>
    </form>

  </div>
</div>

<!-- â”€â”€ CONTENIDO IMPRIMIBLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<main class="recurso-printable" id="recurso-content">

  <div class="recurso-header no-print">
    <div class="container">
      <div class="recurso-meta">
        <span class="recurso-category-badge">{{ page.category | capitalize }}</span>
        <h1 class="recurso-title">{{ page.title }}</h1>
        <p class="recurso-description">{{ page.description }}</p>
      </div>
      <button class="btn-print" id="btn-print" onclick="window.print()" title="Guardar como PDF">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></svg>
        Guardar como PDF
      </button>
    </div>
  </div>

  <!-- Cabecera de impresiÃ³n (solo visible al imprimir) -->
  <div class="print-header">
    <div class="print-logo">Metanoia Â· renemoya.com</div>
    <div class="print-resource-title">{{ page.title }}</div>
  </div>

  <div class="recurso-body container">
    {{ content }}
  </div>

  <div class="print-footer">
    Descargado en renemoya.com Â· Recursos gratuitos para escritores Â· {{ 'now' | date: "%Y" }}
  </div>

</main>

{% include site-footer.html %}

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RECURSO PAGE â€” EMAIL GATE + PRINTABLE CONTENT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* â”€â”€ Gate overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.gate-overlay {
  position: fixed;
  inset: 0;
  background: rgba(243,241,236,0.97);
  backdrop-filter: blur(6px);
  z-index: 900;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
  overflow-y: auto;
  transition: opacity 0.45s ease;
}

.gate-overlay.unlocking {
  opacity: 0;
  pointer-events: none;
}

.gate-card {
  background: #fff;
  border: 1px solid rgba(60,48,38,0.12);
  border-radius: 16px;
  box-shadow: 0 16px 48px rgba(60,48,38,0.12);
  padding: 2.5rem 2.25rem;
  max-width: 480px;
  width: 100%;
  text-align: center;
  position: relative;
}

.gate-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--color-orange), #d94520);
  border-radius: 16px 16px 0 0;
}

.gate-icon {
  width: 72px;
  height: 72px;
  margin: 0 auto 0.75rem;
  background: rgba(243,79,41,0.08);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-orange);
}

.gate-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  background: rgba(243,79,41,0.1);
  color: var(--color-orange);
  font-family: var(--font-sans);
  font-size: 0.78rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 0.75rem;
}

.gate-title {
  font-family: var(--font-display);
  font-size: 1.65rem;
  line-height: 1.25;
  color: var(--color-text);
  margin: 0 0 0.75rem;
}

.gate-desc {
  font-family: var(--font-body);
  font-size: 1rem;
  color: var(--color-text-muted);
  line-height: 1.65;
  margin: 0 0 1.25rem;
}

.gate-benefits {
  list-style: none;
  padding: 0;
  margin: 0 0 1.75rem;
  text-align: left;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.gate-benefits li {
  display: flex;
  align-items: flex-start;
  gap: 0.55rem;
  font-family: var(--font-sans);
  font-size: 0.9rem;
  color: var(--color-text);
  line-height: 1.5;
}

.gate-benefits li svg {
  flex-shrink: 0;
  margin-top: 2px;
  color: var(--color-orange);
}

.gate-form { width: 100%; }

.gate-fields {
  display: flex;
  flex-direction: column;
  gap: 0.65rem;
  margin-bottom: 0.65rem;
}

.gate-fields input {
  width: 100%;
  padding: 0.875rem 1rem;
  font-family: var(--font-sans);
  font-size: 0.95rem;
  color: var(--color-text);
  background: var(--color-bg);
  border: 2px solid rgba(60,48,38,0.15);
  border-radius: 8px;
  transition: border-color 0.2s, box-shadow 0.2s;
  box-sizing: border-box;
}

.gate-fields input:focus {
  outline: none;
  border-color: var(--color-orange);
  box-shadow: 0 0 0 3px rgba(243,79,41,0.1);
}

.gate-btn {
  width: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.55rem;
  padding: 0.95rem 1.5rem;
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 700;
  color: #fff;
  background: var(--color-orange);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
  box-shadow: 0 4px 14px rgba(243,79,41,0.3);
}

.gate-btn:hover { background: #d94520; transform: translateY(-2px); box-shadow: 0 6px 18px rgba(243,79,41,0.35); }
.gate-btn:disabled { background: #cbd5e0; cursor: not-allowed; transform: none; box-shadow: none; }

.gate-msg {
  font-family: var(--font-sans);
  font-size: 0.88rem;
  border-radius: 6px;
  padding: 0.75rem;
  display: none;
  margin-bottom: 0.5rem;
}

.gate-msg.success { display: block; color: #22543d; background: #c6f6d5; border: 1px solid #9ae6b4; }
.gate-msg.error   { display: block; color: #c53030; background: #fed7d7; border: 1px solid #fc8181; }

.gate-privacy {
  font-family: var(--font-sans);
  font-size: 0.78rem;
  color: var(--color-text-muted);
  margin: 0.5rem 0 0;
}

/* â”€â”€ Breadcrumb â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.recurso-breadcrumb {
  padding: 0.85rem 0;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.breadcrumb-list {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  list-style: none;
  padding: 0;
  margin: 0;
  font-family: var(--font-sans);
  font-size: 0.82rem;
  color: var(--color-text-muted);
  flex-wrap: wrap;
}

.breadcrumb-list a {
  color: var(--color-text-muted);
  text-decoration: none;
  transition: color 0.2s;
}
.breadcrumb-list a:hover { color: var(--color-orange); }
.breadcrumb-list [aria-current="page"] { color: var(--color-text); font-weight: 600; }

/* â”€â”€ Recurso content (hidden until unlocked) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.recurso-printable {
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.45s ease 0.1s;
}

.recurso-printable.visible {
  opacity: 1;
  pointer-events: auto;
}

.recurso-header {
  background: var(--color-bg);
  border-bottom: 1px solid var(--color-border);
  padding: 2.5rem 0 2rem;
  margin-bottom: 2.5rem;
}

.recurso-header .container {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1.5rem;
  flex-wrap: wrap;
}

.recurso-category-badge {
  display: inline-block;
  padding: 0.2rem 0.65rem;
  border-radius: 20px;
  background: rgba(243,79,41,0.1);
  color: var(--color-orange);
  font-family: var(--font-sans);
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  margin-bottom: 0.6rem;
}

.recurso-title {
  font-family: var(--font-display);
  font-size: 2rem;
  line-height: 1.2;
  color: var(--color-text);
  margin: 0 0 0.6rem;
}

.recurso-description {
  font-family: var(--font-body);
  font-size: 1.05rem;
  color: var(--color-text-muted);
  margin: 0;
  max-width: 58ch;
  line-height: 1.7;
}

.btn-print {
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  font-family: var(--font-sans);
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-orange);
  background: rgba(243,79,41,0.08);
  border: 1.5px solid rgba(243,79,41,0.25);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  margin-top: 0.25rem;
}

.btn-print:hover {
  background: var(--color-orange);
  color: #fff;
  border-color: var(--color-orange);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(243,79,41,0.25);
}

/* â”€â”€ Recurso body â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.recurso-body {
  max-width: 860px;
  padding-bottom: 4rem;
}

/* â”€â”€ Print-only elements â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.print-header,
.print-footer {
  display: none;
}

/* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 600px) {
  .gate-card { padding: 2rem 1.5rem; }
  .gate-title { font-size: 1.35rem; }
  .recurso-title { font-size: 1.5rem; }
  .recurso-header .container { flex-direction: column; }
  .btn-print { width: 100%; justify-content: center; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RECURSO PRINTABLE CONTENT â€” .rp-doc
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.rp-doc {
  font-family: var(--font-body);
  color: var(--color-text);
}

.rp-doc h2 {
  font-family: var(--font-display);
  font-size: 1.2rem;
  color: var(--color-text);
  border-bottom: 2px solid var(--color-orange);
  padding-bottom: 0.4rem;
  margin: 2rem 0 1rem;
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
}

.rp-doc h2:first-child { margin-top: 0; }

.rp-doc h3 {
  font-family: var(--font-display);
  font-size: 1rem;
  margin: 1.25rem 0 0.5rem;
  color: var(--color-text);
}

.rp-doc p { font-size: 0.92rem; line-height: 1.65; margin: 0.5rem 0; }

.rp-doc hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: 2rem 0;
}

.rp-pct {
  font-family: var(--font-sans);
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-orange);
  background: rgba(243,79,41,0.08);
  padding: 0.15rem 0.5rem;
  border-radius: 20px;
  letter-spacing: 0.03em;
}

.rp-tag {
  font-family: var(--font-sans);
  font-size: 0.72rem;
  font-weight: 600;
  color: var(--color-accent);
  background: rgba(26,123,179,0.1);
  padding: 0.12rem 0.45rem;
  border-radius: 20px;
}

/* â”€â”€ Intro box â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-intro-box {
  background: rgba(243,79,41,0.05);
  border-left: 3px solid var(--color-orange);
  border-radius: 0 8px 8px 0;
  padding: 1rem 1.25rem;
  margin-bottom: 1.75rem;
  font-size: 0.95rem;
  line-height: 1.7;
  color: var(--color-text);
}

/* â”€â”€ Field groups â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-field-group {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem 1.25rem;
  margin-bottom: 0.5rem;
}

.rp-field-group--row { align-items: flex-end; }

.rp-field {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
  flex: 1 1 100%;
}

.rp-field--half   { flex: 1 1 calc(50% - 1.25rem); min-width: 180px; }
.rp-field--third  { flex: 1 1 calc(33% - 1.25rem); min-width: 140px; }
.rp-field--grow   { flex: 2 1 200px; }
.rp-field--shrink { flex: 1 1 120px; min-width: 120px; }

.rp-field label {
  font-family: var(--font-sans);
  font-size: 0.78rem;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.rp-input-line {
  border-bottom: 1.5px solid rgba(60,48,38,0.2);
  min-height: 28px;
  width: 100%;
  margin-top: 2px;
}

.rp-input-line + .rp-input-line { margin-top: 6px; }

.rp-input-inline {
  border-bottom: 1px solid rgba(60,48,38,0.15);
  min-height: 22px;
  width: 100%;
}

/* â”€â”€ Two column layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2.5rem;
  align-items: start;
}

/* â”€â”€ Tables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-table {
  width: 100%;
  border-collapse: collapse;
  font-family: var(--font-sans);
  font-size: 0.82rem;
  margin: 0.5rem 0;
}

.rp-table thead th {
  background: rgba(60,48,38,0.05);
  padding: 0.55rem 0.75rem;
  text-align: left;
  font-weight: 700;
  color: var(--color-text);
  border-bottom: 2px solid rgba(60,48,38,0.15);
}

.rp-table tbody td {
  padding: 0.45rem 0.75rem;
  border-bottom: 1px solid rgba(60,48,38,0.08);
  vertical-align: top;
}

.rp-table tbody tr:last-child td { border-bottom: none; }

.rp-table--index .col-num   { width: 40px; text-align: center; font-weight: 700; color: var(--color-orange); }
.rp-table--index .col-title { min-width: 140px; }
.rp-table--index .col-pov   { width: 70px; }
.rp-table--index .col-arc   { min-width: 100px; }
.rp-table--index .col-words { width: 80px; }

.rp-table--errors th:first-child { width: 28%; }
.rp-table--errors th:nth-child(2) { width: 32%; }
.rp-table--errors td { font-size: 0.8rem; }

/* â”€â”€ Arc â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-arc {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0.4rem;
  margin: 0.75rem 0;
}

.rp-arc-item {
  background: rgba(255,255,255,0.7);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 0.9rem;
}

.rp-arc-label {
  display: block;
  font-family: var(--font-sans);
  font-size: 0.72rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  color: var(--color-orange);
  margin-bottom: 0.3rem;
}

.rp-arc-hint {
  font-size: 0.78rem;
  color: var(--color-text-muted);
  margin: 0 0 0.5rem;
  font-style: italic;
}

.rp-arc-arrow {
  font-size: 1.2rem;
  color: var(--color-border);
  align-self: center;
  flex-shrink: 0;
  line-height: 1;
}

/* â”€â”€ Beats (structure template) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-act {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1rem;
  border-radius: 8px;
  margin: 0.5rem 0;
}

.rp-act--1 { background: rgba(243,79,41,0.04); border-left: 3px solid rgba(243,79,41,0.3); }
.rp-act--2 { background: rgba(26,123,179,0.04); border-left: 3px solid rgba(26,123,179,0.3); }
.rp-act--3 { background: rgba(72,187,120,0.04); border-left: 3px solid rgba(72,187,120,0.3); }

.rp-beat {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

.rp-beat--pivot { opacity: 0.85; }

.rp-beat-num {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  background: rgba(60,48,38,0.08);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-sans);
  font-size: 0.82rem;
  font-weight: 700;
  color: var(--color-text-muted);
  margin-top: 2px;
}

.rp-beat-content { flex: 1; }
.rp-beat-content strong { font-size: 0.92rem; color: var(--color-text); }
.rp-beat-hint {
  font-size: 0.8rem;
  color: var(--color-text-muted);
  font-style: italic;
  margin: 0.2rem 0 0.4rem;
  line-height: 1.5;
}

/* â”€â”€ Elements grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-elements-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin: 0.75rem 0;
}

.rp-element {
  background: rgba(255,255,255,0.6);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 1rem;
  position: relative;
}

.rp-elem-num {
  display: block;
  font-family: var(--font-sans);
  font-size: 1.5rem;
  font-weight: 800;
  color: rgba(243,79,41,0.15);
  line-height: 1;
  margin-bottom: 0.35rem;
}

.rp-element strong { font-size: 0.9rem; color: var(--color-text); }
.rp-element p { font-size: 0.8rem; color: var(--color-text-muted); margin: 0.35rem 0 0; }

/* â”€â”€ Checklist â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-checklist {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin: 0.5rem 0;
}

.rp-checklist--cols {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.4rem 1.5rem;
}

.rp-check-item {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  font-family: var(--font-sans);
  font-size: 0.85rem;
  color: var(--color-text);
  line-height: 1.5;
  cursor: pointer;
  padding: 0.35rem 0.5rem;
  border-radius: 6px;
  transition: background 0.15s;
}

.rp-check-item:hover { background: rgba(243,79,41,0.04); }
.rp-check-item input[type="checkbox"] { flex-shrink: 0; margin-top: 2px; accent-color: var(--color-orange); }

/* â”€â”€ Tip box â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rp-tip {
  background: rgba(26,123,179,0.05);
  border: 1px solid rgba(26,123,179,0.15);
  border-radius: 8px;
  padding: 1rem 1.25rem;
  font-family: var(--font-sans);
  font-size: 0.87rem;
  line-height: 1.6;
  color: var(--color-text-muted);
  margin-top: 2rem;
}

.rp-tip strong { color: var(--color-text); }
.rp-tip a { color: var(--color-accent); }

/* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 680px) {
  .rp-two-col { grid-template-columns: 1fr; }
  .rp-checklist--cols { grid-template-columns: 1fr; }
  .rp-elements-grid { grid-template-columns: 1fr; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   @MEDIA PRINT â€” Solo el recurso, sin chrome del sitio
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media print {
  .no-print,
  .site-header,
  .site-footer,
  .recurso-breadcrumb,
  .recurso-header,
  .btn-print,
  .gate-overlay,
  .menu-overlay,
  .wb-banner {
    display: none !important;
  }

  .recurso-printable {
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  .print-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 0.75rem;
    margin-bottom: 1.5rem;
    border-bottom: 2px solid #f34f29;
    font-family: sans-serif;
    font-size: 11pt;
    color: #6e6658;
  }

  .print-resource-title {
    font-weight: 700;
    color: #3c3026;
    font-size: 12pt;
  }

  .print-footer {
    display: block;
    margin-top: 2rem;
    padding-top: 0.75rem;
    border-top: 1px solid #d4cfc5;
    font-family: sans-serif;
    font-size: 9pt;
    color: #6e6658;
    text-align: center;
  }

  body { background: #fff !important; color: #000 !important; }
  .recurso-body { max-width: 100%; padding: 0; }

  h1, h2, h3 { page-break-after: avoid; }
  table { page-break-inside: avoid; }
}
</style>

<script>
(function() {
  'use strict';

  // â”€â”€ Gate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  var API = 'https://comentarios.finanzasreales.com/api/newsletter.php';
  var GATE_KEY = 'gate_unlocked';
  var resourceSlug = '{{ page.slug | default: page.name }}';

  var overlay  = document.getElementById('gate-overlay');
  var content  = document.getElementById('recurso-content');
  var form     = document.getElementById('gate-form');
  var btn      = document.getElementById('gate-btn');
  var msgEl    = document.getElementById('gate-msg');
  var nombreEl = document.getElementById('gate-nombre');
  var emailEl  = document.getElementById('gate-email');

  function unlock() {
    localStorage.setItem(GATE_KEY, '1');
    overlay.classList.add('unlocking');
    content.classList.add('visible');
    setTimeout(function() { overlay.style.display = 'none'; }, 500);
  }

  // Retornante: ya se suscribiÃ³ antes
  if (localStorage.getItem(GATE_KEY)) {
    overlay.style.display = 'none';
    content.classList.add('visible');
    return;
  }

  // Mostrar gate
  overlay.style.display = 'flex';

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    var email  = emailEl.value.trim();
    var nombre = nombreEl.value.trim();
    if (!email) return;

    btn.disabled = true;
    btn.textContent = 'Enviando...';
    msgEl.className = 'gate-msg';

    fetch(API, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ nombre: nombre, email: email, fuente: 'recurso-' + resourceSlug })
    })
    .then(function(r) { return r.json(); })
    .then(function(data) {
      if (data.success) {
        unlock();
      } else {
        var msg = (data.error || '').toLowerCase();
        if (msg.indexOf('ya') !== -1 || msg.indexOf('exist') !== -1 || msg.indexOf('registr') !== -1) {
          unlock();
        } else {
          msgEl.className = 'gate-msg error';
          msgEl.textContent = 'âœ— ' + (data.error || 'Error al enviar. IntentÃ¡ de nuevo.');
          btn.disabled = false;
          btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg> Acceder gratis';
        }
      }
    })
    .catch(function() { unlock(); });
  });

})();
</script>

</body>
</html>
